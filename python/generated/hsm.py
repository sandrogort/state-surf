# Generated by StateSurf minimal generator (v1 subset). Python implementation.
from __future__ import annotations

from enum import Enum


class HsmState(Enum):
    InitialPseudoState = "InitialPseudoState"
    s = "s"
    s1 = "s1"
    s11 = "s11"
    s2 = "s2"
    s21 = "s21"
    s211 = "s211"
    FinalPseudoState = "FinalPseudoState"


class HsmEvent(Enum):
    A = "A"
    B = "B"
    C = "C"
    D = "D"
    E = "E"
    F = "F"
    G = "G"
    H = "H"
    I = "I"
    TERMINATE = "TERMINATE"


class HsmGuardId(Enum):
    isFooTrue = "isFooTrue"
    isFooFalse = "isFooFalse"


class HsmActionId(Enum):
    setFooFalse = "setFooFalse"
    setFooTrue = "setFooTrue"


class HsmHooks:
    def on_entry(self, state: HsmState) -> None:
        raise NotImplementedError

    def on_exit(self, state: HsmState) -> None:
        raise NotImplementedError

    def guard(self, state: HsmState, event: HsmEvent, guard: HsmGuardId) -> bool:
        raise NotImplementedError

    def action(self, state: HsmState, event: HsmEvent, action: HsmActionId) -> None:
        raise NotImplementedError


def on_event(state: HsmState, event: HsmEvent) -> None:
    return None


def on_transition(src: HsmState, dst: HsmState, event: HsmEvent) -> None:
    return None


class HsmMachine:
    def __init__(self, hooks: HsmHooks) -> None:
        self._hooks = hooks
        self._state = HsmState.InitialPseudoState
        self._started = False
        self._terminated = False
        self.reset()

    def reset(self) -> None:
        self._terminated = False
        self._started = False
        self._state = HsmState.InitialPseudoState

    def start(self) -> None:
        if self._terminated or self._started:
            return
        self._started = True
        on_transition(HsmState.InitialPseudoState, HsmState.s211, self._default_event())
        self._state = HsmState.s211
        self._hooks.action(HsmState.s, self._default_event(), HsmActionId.setFooFalse)
        self._hooks.on_entry(HsmState.s)
        self._hooks.on_entry(HsmState.s2)
        self._hooks.on_entry(HsmState.s21)
        self._hooks.on_entry(HsmState.s211)

    def state(self) -> HsmState:
        return self._state

    def terminated(self) -> bool:
        return self._terminated

    def dispatch(self, event: HsmEvent) -> None:
        if self._terminated:
            return
        if not self._started:
            self.start()
            if not self._started:
                return
        on_event(self._state, event)
        if self._state == HsmState.s:
            if event == HsmEvent.I:
              if self._hooks.guard(self._state, event, HsmGuardId.isFooTrue):
                on_transition(self._state, self._state, event)
                self._hooks.action(self._state, event, HsmActionId.setFooFalse)
                return
              return
            elif event == HsmEvent.TERMINATE:
              on_transition(self._state, HsmState.FinalPseudoState, event)
              self._hooks.on_exit(HsmState.s)
              self._hooks.on_entry(HsmState.FinalPseudoState)
              self._state = HsmState.FinalPseudoState
              self._terminated = True
              return
            elif event == HsmEvent.E:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            else:
                return
        elif self._state == HsmState.s1:
            if event == HsmEvent.I:
              on_transition(self._state, self._state, event)
              return
            elif event == HsmEvent.D:
              if self._hooks.guard(self._state, event, HsmGuardId.isFooFalse):
                on_transition(self._state, HsmState.s11, event)
                self._hooks.on_exit(HsmState.s1)
                self._hooks.action(self._state, event, HsmActionId.setFooTrue)
                self._hooks.on_entry(HsmState.s1)
                self._hooks.on_entry(HsmState.s11)
                self._state = HsmState.s11
                return
              return
            elif event == HsmEvent.A:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.B:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.C:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s2)
              self._hooks.on_entry(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.F:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s2)
              self._hooks.on_entry(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.TERMINATE:
              on_transition(self._state, HsmState.FinalPseudoState, event)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_exit(HsmState.s)
              self._hooks.on_entry(HsmState.FinalPseudoState)
              self._state = HsmState.FinalPseudoState
              self._terminated = True
              return
            elif event == HsmEvent.E:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            else:
                return
        elif self._state == HsmState.s11:
            if event == HsmEvent.G:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s2)
              self._hooks.on_entry(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.H:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.D:
              if self._hooks.guard(self._state, event, HsmGuardId.isFooTrue):
                on_transition(self._state, HsmState.s11, event)
                self._hooks.on_exit(HsmState.s11)
                self._hooks.action(self._state, event, HsmActionId.setFooFalse)
                self._hooks.on_entry(HsmState.s11)
                self._state = HsmState.s11
                return
              if self._hooks.guard(self._state, event, HsmGuardId.isFooFalse):
                on_transition(self._state, HsmState.s11, event)
                self._hooks.on_exit(HsmState.s11)
                self._hooks.on_exit(HsmState.s1)
                self._hooks.action(self._state, event, HsmActionId.setFooTrue)
                self._hooks.on_entry(HsmState.s1)
                self._hooks.on_entry(HsmState.s11)
                self._state = HsmState.s11
                return
              return
            elif event == HsmEvent.I:
              on_transition(self._state, self._state, event)
              return
            elif event == HsmEvent.A:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.B:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.C:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s2)
              self._hooks.on_entry(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.F:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s2)
              self._hooks.on_entry(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.TERMINATE:
              on_transition(self._state, HsmState.FinalPseudoState, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_exit(HsmState.s)
              self._hooks.on_entry(HsmState.FinalPseudoState)
              self._state = HsmState.FinalPseudoState
              self._terminated = True
              return
            elif event == HsmEvent.E:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s11)
              self._hooks.on_exit(HsmState.s1)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            else:
                return
        elif self._state == HsmState.s2:
            if event == HsmEvent.I:
              if self._hooks.guard(self._state, event, HsmGuardId.isFooFalse):
                on_transition(self._state, self._state, event)
                self._hooks.action(self._state, event, HsmActionId.setFooTrue)
                return
              if self._hooks.guard(self._state, event, HsmGuardId.isFooTrue):
                on_transition(self._state, self._state, event)
                self._hooks.action(self._state, event, HsmActionId.setFooFalse)
                return
              return
            elif event == HsmEvent.C:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.F:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.TERMINATE:
              on_transition(self._state, HsmState.FinalPseudoState, event)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_exit(HsmState.s)
              self._hooks.on_entry(HsmState.FinalPseudoState)
              self._state = HsmState.FinalPseudoState
              self._terminated = True
              return
            elif event == HsmEvent.E:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            else:
                return
        elif self._state == HsmState.s21:
            if event == HsmEvent.G:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.A:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_entry(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.B:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.I:
              if self._hooks.guard(self._state, event, HsmGuardId.isFooFalse):
                on_transition(self._state, self._state, event)
                self._hooks.action(self._state, event, HsmActionId.setFooTrue)
                return
              if self._hooks.guard(self._state, event, HsmGuardId.isFooTrue):
                on_transition(self._state, self._state, event)
                self._hooks.action(self._state, event, HsmActionId.setFooFalse)
                return
              return
            elif event == HsmEvent.C:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.F:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.TERMINATE:
              on_transition(self._state, HsmState.FinalPseudoState, event)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_exit(HsmState.s)
              self._hooks.on_entry(HsmState.FinalPseudoState)
              self._state = HsmState.FinalPseudoState
              self._terminated = True
              return
            elif event == HsmEvent.E:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            else:
                return
        elif self._state == HsmState.s211:
            if event == HsmEvent.D:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.H:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.G:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.A:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_entry(HsmState.s21)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.B:
              on_transition(self._state, HsmState.s211, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_entry(HsmState.s211)
              self._state = HsmState.s211
              return
            elif event == HsmEvent.I:
              if self._hooks.guard(self._state, event, HsmGuardId.isFooFalse):
                on_transition(self._state, self._state, event)
                self._hooks.action(self._state, event, HsmActionId.setFooTrue)
                return
              if self._hooks.guard(self._state, event, HsmGuardId.isFooTrue):
                on_transition(self._state, self._state, event)
                self._hooks.action(self._state, event, HsmActionId.setFooFalse)
                return
              return
            elif event == HsmEvent.C:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.F:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            elif event == HsmEvent.TERMINATE:
              on_transition(self._state, HsmState.FinalPseudoState, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_exit(HsmState.s)
              self._hooks.on_entry(HsmState.FinalPseudoState)
              self._state = HsmState.FinalPseudoState
              self._terminated = True
              return
            elif event == HsmEvent.E:
              on_transition(self._state, HsmState.s11, event)
              self._hooks.on_exit(HsmState.s211)
              self._hooks.on_exit(HsmState.s21)
              self._hooks.on_exit(HsmState.s2)
              self._hooks.on_entry(HsmState.s1)
              self._hooks.on_entry(HsmState.s11)
              self._state = HsmState.s11
              return
            else:
                return
        elif self._state == HsmState.InitialPseudoState:
            return
        elif self._state == HsmState.FinalPseudoState:
            return
        else:
            return

    def _default_event(self) -> HsmEvent:
        return HsmEvent.A
