#pragma once
// Generated by StateSurf minimal generator (v1 subset). C++11 header-only.
namespace statesurf {

enum class State {
  InitialPseudoState,
  s,
  s1,
  s11,
  s2,
  s21,
  s211,
  FinalPseudoState
};

enum class Event {
  A,
  B,
  C,
  D,
  E,
  F,
  G,
  H,
  I,
  TERMINATE
};

enum class GuardId {
  isFooTrue,
  isFooFalse
};

enum class ActionId {
  setFooFalse,
  setFooTrue
};

struct IHooks {
  virtual ~IHooks() {}
  virtual void on_entry(State) = 0;
  virtual void on_exit(State) = 0;
  virtual bool guard(State, Event, GuardId) = 0;
  virtual void action(State, Event, ActionId) = 0;
};

inline void on_event(State, Event) {}
inline void on_transition(State, State, Event) {}

class StateSurfMachine {
public:
  explicit StateSurfMachine(IHooks& impl) : impl_(impl) { reset(); }

  void reset() {
    terminated_ = false;
    started_ = false;
    s_ = State::InitialPseudoState;
  }

  void start() {
    if (terminated_ || started_) return;
    started_ = true;
    on_transition(State::InitialPseudoState, State::s211, Event{});
    s_ = State::s211;
    impl_.action(State::s, Event{}, ActionId::setFooFalse);
    impl_.on_entry(State::s);
    impl_.on_entry(State::s2);
    impl_.on_entry(State::s21);
    impl_.on_entry(State::s211);
  }

  State state() const { return s_; }
  bool terminated() const { return terminated_; }

  void dispatch(Event e) {
    if (terminated_) return;
    if (!started_) {
      start();
      if (!started_) return;
    }
    on_event(s_, e);
    switch (s_) {
      case State::s: {
        switch (e) {
          case Event::I: {
            if (impl_.guard(s_, e, GuardId::isFooTrue)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooFalse);
              return;
            }
            return;
          }
          case Event::TERMINATE: {
            {
              on_transition(s_, State::FinalPseudoState, e);
              impl_.on_exit(State::s);
              impl_.on_entry(State::FinalPseudoState);
              s_ = State::FinalPseudoState;
              terminated_ = true;
              return;
            }
            return;
          }
          case Event::E: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          default: return;
        }
      }
      case State::s1: {
        switch (e) {
          case Event::I: {
            {
              on_transition(s_, s_, e);
              return;
            }
            if (impl_.guard(s_, e, GuardId::isFooTrue)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooFalse);
              return;
            }
            return;
          }
          case Event::D: {
            if (impl_.guard(s_, e, GuardId::isFooFalse)) {
              on_transition(s_, State::s11, e);
              impl_.action(s_, e, ActionId::setFooTrue);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::A: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::B: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::C: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_exit(State::s1);
              impl_.on_entry(State::s2);
              impl_.on_entry(State::s21);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::F: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_exit(State::s1);
              impl_.on_entry(State::s2);
              impl_.on_entry(State::s21);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::TERMINATE: {
            {
              on_transition(s_, State::FinalPseudoState, e);
              impl_.on_exit(State::s1);
              impl_.on_exit(State::s);
              impl_.on_entry(State::FinalPseudoState);
              s_ = State::FinalPseudoState;
              terminated_ = true;
              return;
            }
            return;
          }
          case Event::E: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s1);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          default: return;
        }
      }
      case State::s11: {
        switch (e) {
          case Event::G: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_exit(State::s11);
              impl_.on_exit(State::s1);
              impl_.on_entry(State::s2);
              impl_.on_entry(State::s21);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::H: {
            {
              on_transition(s_, State::s11, e);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::D: {
            if (impl_.guard(s_, e, GuardId::isFooTrue)) {
              on_transition(s_, State::s11, e);
              impl_.action(s_, e, ActionId::setFooFalse);
              s_ = State::s11;
              return;
            }
            if (impl_.guard(s_, e, GuardId::isFooFalse)) {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s11);
              impl_.action(s_, e, ActionId::setFooTrue);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::I: {
            {
              on_transition(s_, s_, e);
              return;
            }
            if (impl_.guard(s_, e, GuardId::isFooTrue)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooFalse);
              return;
            }
            return;
          }
          case Event::A: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s11);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::B: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s11);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::C: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_exit(State::s11);
              impl_.on_exit(State::s1);
              impl_.on_entry(State::s2);
              impl_.on_entry(State::s21);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::F: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_exit(State::s11);
              impl_.on_exit(State::s1);
              impl_.on_entry(State::s2);
              impl_.on_entry(State::s21);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::TERMINATE: {
            {
              on_transition(s_, State::FinalPseudoState, e);
              impl_.on_exit(State::s11);
              impl_.on_exit(State::s1);
              impl_.on_exit(State::s);
              impl_.on_entry(State::FinalPseudoState);
              s_ = State::FinalPseudoState;
              terminated_ = true;
              return;
            }
            return;
          }
          case Event::E: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s11);
              impl_.on_exit(State::s1);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          default: return;
        }
      }
      case State::s2: {
        switch (e) {
          case Event::I: {
            if (impl_.guard(s_, e, GuardId::isFooFalse)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooTrue);
              return;
            }
            if (impl_.guard(s_, e, GuardId::isFooTrue)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooFalse);
              return;
            }
            return;
          }
          case Event::C: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::F: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::TERMINATE: {
            {
              on_transition(s_, State::FinalPseudoState, e);
              impl_.on_exit(State::s2);
              impl_.on_exit(State::s);
              impl_.on_entry(State::FinalPseudoState);
              s_ = State::FinalPseudoState;
              terminated_ = true;
              return;
            }
            return;
          }
          case Event::E: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          default: return;
        }
      }
      case State::s21: {
        switch (e) {
          case Event::G: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::A: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_entry(State::s21);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::B: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::I: {
            if (impl_.guard(s_, e, GuardId::isFooFalse)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooTrue);
              return;
            }
            if (impl_.guard(s_, e, GuardId::isFooTrue)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooFalse);
              return;
            }
            return;
          }
          case Event::C: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::F: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::TERMINATE: {
            {
              on_transition(s_, State::FinalPseudoState, e);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_exit(State::s);
              impl_.on_entry(State::FinalPseudoState);
              s_ = State::FinalPseudoState;
              terminated_ = true;
              return;
            }
            return;
          }
          case Event::E: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          default: return;
        }
      }
      case State::s211: {
        switch (e) {
          case Event::D: {
            {
              on_transition(s_, State::s211, e);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::H: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s211);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::G: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s211);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::A: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_exit(State::s211);
              impl_.on_entry(State::s21);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::B: {
            {
              on_transition(s_, State::s211, e);
              impl_.on_exit(State::s211);
              impl_.on_entry(State::s211);
              s_ = State::s211;
              return;
            }
            return;
          }
          case Event::I: {
            if (impl_.guard(s_, e, GuardId::isFooFalse)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooTrue);
              return;
            }
            if (impl_.guard(s_, e, GuardId::isFooTrue)) {
              on_transition(s_, s_, e);
              impl_.action(s_, e, ActionId::setFooFalse);
              return;
            }
            return;
          }
          case Event::C: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s211);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::F: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s211);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          case Event::TERMINATE: {
            {
              on_transition(s_, State::FinalPseudoState, e);
              impl_.on_exit(State::s211);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_exit(State::s);
              impl_.on_entry(State::FinalPseudoState);
              s_ = State::FinalPseudoState;
              terminated_ = true;
              return;
            }
            return;
          }
          case Event::E: {
            {
              on_transition(s_, State::s11, e);
              impl_.on_exit(State::s211);
              impl_.on_exit(State::s21);
              impl_.on_exit(State::s2);
              impl_.on_entry(State::s1);
              impl_.on_entry(State::s11);
              s_ = State::s11;
              return;
            }
            return;
          }
          default: return;
        }
      }
      case State::InitialPseudoState: {
        return;
      }
      case State::FinalPseudoState: {
        return;
      }
    }
  }

private:
  IHooks& impl_;
  State s_;
  bool started_ = false;
  bool terminated_ = false;
};

} // namespace statesurf